# 🎮 VKNight 游戏版本记录

## 版本管理说明
每个版本都有独立的 Git 标签，可以随时回滚到任意版本。

### 如何还原到指定版本
```bash
# 查看所有版本
git tag -l

# 还原到指定版本
git checkout v1.0.0  # 替换为目标版本号

# 创建新分支基于旧版本
git checkout -b restore-v1.0.0 v1.0.0
```

---

## 📌 版本 v1.0.0 - 基础版本（2024-01-06）

### 功能特性
1. **双角色系统**
   - Josh（战士）：高血量、高攻击
   - Abby（弓箭手）：平衡属性

2. **ETH 货币系统**
   - 使用整数显示（wei）
   - 带以太坊 logo
   - 起始 1 ETH，怪物掉落 0.1-500 ETH

3. **装备系统**
   - 7个等级的装备
   - 武器、护甲、盾牌
   - 价格范围：2-30,000 ETH

4. **关卡系统**
   - 9个关卡，分布在5个区域
   - 森林 → 山脉 → 火山 → 地下城 → 魔界
   - 难度递增，奖励递增

5. **战斗系统**
   - 数学题目驱动的战斗
   - 答对造成伤害，答错受到伤害
   - 难度自适应系统

6. **云存储功能**
   - Railway PostgreSQL 数据库
   - 自动保存角色进度
   - 设备 ID 识别系统
   - 离线缓存支持

### 技术栈
- Next.js 15.3.5 + TypeScript
- Framer Motion 动画
- Prisma + PostgreSQL
- Railway 部署

### 已知限制
- 战斗中无法恢复生命值
- 没有技能或魔法系统
- 题目类型相对简单

---

## 📌 版本 v1.1.0 - 药水与魔法系统（2024-01-06）

### 新增功能
1. **药水系统**
   - 红药水：恢复生命值（4种规格）
   - 蓝药水：恢复魔法值（4种规格）
   - 商店药水专区，支持批量购买
   - 战斗中快速使用药水

2. **魔法系统**
   - 新增魔法条（MP）系统
   - Josh：50 MP，Abby：60 MP
   - 题目拆解魔法（消耗 10 MP）
   - 每题可使用一次魔法

3. **教学辅助**
   - 凑十法可视化（加法）
   - 破十法动画（减法）
   - 乘法展开显示
   - 除法平均分解
   - 分步计算展示，自动播放

4. **UI优化**
   - 商店新增药水标签页
   - 战斗界面添加MP条显示
   - 药水快捷栏，显示拥有数量
   - 魔法拆解特效动画

5. **角色平衡**
   - Josh：高生命，较低魔法
   - Abby：平衡生命，较高魔法
   - MP随等级增长

### 版本切换命令
```bash
# 保存当前版本
git tag -a v1.0.0 -m "基础版本：包含云存储"

# 查看版本
git tag -l

# 切换版本
git checkout v1.0.0
```